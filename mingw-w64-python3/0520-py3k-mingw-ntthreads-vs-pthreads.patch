diff -Naur Python-3.7.0-orig/configure.ac Python-3.7.0/configure.ac
--- Python-3.7.0-orig/configure.ac	2018-06-30 11:16:51.957085200 +0300
+++ Python-3.7.0/configure.ac	2018-06-30 11:16:52.237885700 +0300
@@ -2265,7 +2265,7 @@
 AC_HEADER_STDC
 AC_CHECK_HEADERS(asm/types.h crypt.h conio.h direct.h dlfcn.h errno.h \
 fcntl.h grp.h \
-ieeefp.h io.h langinfo.h libintl.h process.h pthread.h \
+ieeefp.h io.h langinfo.h libintl.h process.h \
 sched.h shadow.h signal.h stropts.h termios.h \
 unistd.h utime.h \
 poll.h sys/devpoll.h sys/epoll.h sys/poll.h \
@@ -2974,7 +2974,9 @@
 # 'Real Time' functions on Solaris
 # posix4 on Solaris 2.6
 # pthread (first!) on Linux
-AC_SEARCH_LIBS(sem_init, pthread rt posix4)
+  if test "$ac_cv_ntthread" = "no" -o -z "$ac_cv_ntthread"; then
+    AC_SEARCH_LIBS(sem_init, pthread rt posix4)
+  fi
 fi
 
 # check if we need libintl for locale functions
@@ -5239,6 +5241,14 @@
 
 AC_CHECK_HEADERS(curses.h ncurses.h)
 
+# If using nt threads, don't look for pthread.h or thread.h
+if test "x$ac_cv_ntthread" = xno ; then
+AC_HEADER_STDC
+AC_CHECK_HEADERS(pthread.h thread.h)
+AC_HEADER_DIRENT
+AC_HEADER_MAJOR
+fi
+
 # On Solaris, term.h requires curses.h
 AC_CHECK_HEADERS(term.h,,,[
 #ifdef HAVE_CURSES_H
diff -Naur Python-3.7.0-orig/Python/condvar.h Python-3.7.0/Python/condvar.h
--- Python-3.7.0-orig/Python/condvar.h	2018-06-27 06:07:35.000000000 +0300
+++ Python-3.7.0/Python/condvar.h	2018-06-30 11:16:52.253485700 +0300
@@ -43,6 +43,12 @@
 #include "Python.h"
 #include "internal/condvar.h"
 
+#ifdef __MINGW32__
+# if !defined(HAVE_PTHREAD_H) || defined(NT_THREADS)
+#  undef _POSIX_THREADS
+# endif
+#endif
+
 #ifdef _POSIX_THREADS
 /*
  * POSIX support
diff -Naur Python-3.7.0-orig/Python/thread.c Python-3.7.0/Python/thread.c
--- Python-3.7.0-orig/Python/thread.c	2018-06-27 06:07:35.000000000 +0300
+++ Python-3.7.0/Python/thread.c	2018-06-30 11:16:52.253485700 +0300
@@ -8,6 +8,12 @@
 #include "Python.h"
 #include "internal/pystate.h"
 
+#ifdef __MINGW32__
+# if !defined(HAVE_PTHREAD_H) || defined(NT_THREADS)
+#  undef _POSIX_THREADS
+# endif
+#endif
+
 #ifndef _POSIX_THREADS
 /* This means pthreads are not implemented in libc headers, hence the macro
    not present in unistd.h. But they still can be implemented as an external
